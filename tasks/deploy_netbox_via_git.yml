---
- name: Install git package
  apt: 
    name: git
    state: latest

- name: Clone Netbox from Github
  git: 
    repo: https://github.com/digitalocean/netbox.git
    dest: "{{ netbox_git_path }}"
    update: no

- name: Create a link to active release
  file:
    src: "{{ netbox_git_path }}"
    dest: "{{ netbox_current_path }}"
    state: link

- name: Install Requirement Python Packages
  pip:
    requirements: "{{ netbox_current_path }}/requirements.txt"
    virtualenv: "{{ netbox_current_path }}/venv"
    virtualenv_python: python3
